# Разработка трёхмерной сцены «Дом» с использованием игрового движка Unity

Сцена будет состоять из:
-	поля, на котором будет стоять дом;
-	дома с одной комнатой и чердаком;
-	двери и окна;
-	предметов интерьера.

## Разработка базовой сцены

Моделирование сцены начинается с создания основы – поля и «коробки дома». Поле представляет собой объект Terrain. На него был наложен материал с текстурой травы. Все текстуры являются картинками, скачанными из интернета в формате JPG. Также с помощью инструментов были созданы холмы. Небо было добавлено через меню Window→Rendering→Lightning.
В появившемся окне в параметре Skybox Material была выбрана раннее скачанная текстура.
«Коробка дома» была создана с помощью 3d-объектов Plane (пол) и Cube (стены, крыша и потолок). На пол наложен материал с текстурой темного дерева, на внутренние стены – с текстурой обоев, на внешние – с текстурой кирпича и на крышу – с текстурой черепицы. На крыше был сделан вход на чердак также с помощью объектов Cube.

![image](https://github.com/user-attachments/assets/093ca7c9-f27a-4bd1-b224-b80ff5f3b0cc)

## Создание интерьера

С помощью различных 3d-объектов были созданы предметы интерьера: кровать, обеденный стол со стульями, полка с книгами, цветочный горшок с лимонным деревом, картина, вентилятор, шкаф и придверный коврик.
Кровать. Сделана из объектов Cube. Материал кровати – белое дерево. Материал матраса – скачанная текстура матраса.
Полка с книгами. Объект – Cube. Материал – белое дерево. Книги скачаны из Unity Asset Store.

![image](https://github.com/user-attachments/assets/12f21add-ef29-4246-b37c-b52233b333b7)

Обеденный сервированный стол со стульями. Предметы мебели сделаны из объектов Cube с текстурами белого дерева, подушки на стульях сделаны с помощью объектов Sphere и материала узорчатой ткани. Сервиз на столе был скачан из Unity Asset Store.
Картина. Объекты рамки – Cube, объект изображения – Quad. Материал рамки – белое дерево. Также для реалистичности был добавлен еще один объект Quad с материалом стекла.

![image](https://github.com/user-attachments/assets/3dc65eef-d48d-4112-b551-321d1f825507)

Цветочный горшок с лимонным деревом, представленный на рисунке. Горшок сделан из объектов Cube, с текстурой керамики. Внутри объект Cube с материалом «земля». Дерево с плодами лимона было скачан из Unity Asset Store.

![image](https://github.com/user-attachments/assets/d28f2fe3-b2db-4097-bbea-c97b6a283890)

Вентилятор, представленный на рисунке, cостоит из лопастей (Capsule), защитной решетки (Sphere) и основания (Cube). На все элементы был наложен материал с текстурой пластмассы.

![image](https://github.com/user-attachments/assets/991c3fb6-f406-46e6-a142-ba942eceedfd)

Шкаф, представленный на рисунке. Основа шкафа и полки сделаны из объектов Cube. Материал – белое дерево. Штанга – Cylinder, материал – сталь.

![image](https://github.com/user-attachments/assets/87559b86-aa27-4f6b-873d-10da528ebbe8)

Также в доме есть окно и дверь. Окно состоит из оконной рамы, сделанной из объектов Cube, и двух стекол из объектов Quad. Дверь и ручка выполнены из объектов Cube. 

![image](https://github.com/user-attachments/assets/f7d7c962-f709-45d1-9f89-27c219c64944)

![image](https://github.com/user-attachments/assets/4209e87f-0638-48c4-8f95-f529afb70c33)

Также снаружи был сделан вход на чердак

![image](https://github.com/user-attachments/assets/1222217d-225c-4e90-9ac7-6c876edd433b)

## Создание анимации

Для того, чтобы сделать анимацию двери, сначала был создан пустой объект и помещен на боковой край двери. После тело двери было добавлено к этому пустому объекту. Далее представлен Inspector для объекта Door (рисунок 10). Здесь присутствует меню Animator, реализующее управление анимацией. В Unity анимация создается отдельно через компонент Animator

![image](https://github.com/user-attachments/assets/ce751212-605b-4a90-85e4-b3924aad9988)

![image](https://github.com/user-attachments/assets/fca40065-977f-4eae-97fb-0d6db92594a0)

Модели анимации двери, которые представлены на рисунке 12, созданы при помощи встроенного инструмента движка Unity – Animator. Данные файлы представляют собой описание анимации двери при открывании и закрывании, а также в состоянии покоя. 

![image](https://github.com/user-attachments/assets/87cde496-07e8-43fa-96de-1d78438fbe5f)

![image](https://github.com/user-attachments/assets/46ea187d-b3d5-435a-87e0-18486861d29f)

Также для реалистичности была добавлена анимация опускания и поднимания дверной ручки при открытии и закрытии самой двери. На рисунке 14 представлена модель анимации опускания и поднимания ручки. 

![image](https://github.com/user-attachments/assets/e96cd7a9-d135-482f-8057-1271638d2a5d)

![image](https://github.com/user-attachments/assets/00d1fc80-4846-4df9-86eb-fc381507d231)

Скрипт Interactive, представленный на рисунках 16-17, предназначен для создания луча, который указывает на объекты перед камерой. Луч красного цвета появляется, когда перед камерой на расстоянии, предварительно указанном, ничего нет. Луч синего цвета – когда перед камерой стоит какой-то объект. Луч зеленого цвета – когда с объектом перед камерой можно взаимодействовать 

![image](https://github.com/user-attachments/assets/af4917ec-849d-43a2-8a01-5789d10233f7)

![image](https://github.com/user-attachments/assets/b84ff55d-a6bd-451d-8967-f1badbc9a481)

В методе Interact описывается взаимодействие с дверью. При нажатии на клавишу E срабатывает метод Open в скрипте Door, представленном на рисунке 18, – дверь открывается. При нажатии на клавишу F – метод Close – дверь закрывается

![image](https://github.com/user-attachments/assets/deebc86a-d432-4530-b3cd-9d16c9951f8f)

Для анимации вентилятора были объединены все лопасти и был создан файл анимации с вращением лопастей по кругу без остановки.

## Создание освещения и теней

В сцене два источника освещения. Один представлен компонентом Directional Light, другой находится в доме и представлен компонентом Spot Light. Оба компонента являются средством игрового движка Unity, при создании теней движок использует алгоритм Shadow Mapping, который позволяет хранить информацию о тенях в текстуре. 

![image](https://github.com/user-attachments/assets/6cca0f93-4514-4b57-8401-c18a5008bf55)

Источник света типа Spot Light светит из точки в некотором направлении и освещает объекты только внутри конуса. Spot Angle задает угол конуса в градусах.

![image](https://github.com/user-attachments/assets/d98db688-c067-4577-87f7-ea9fdf8106f6)

## Управление камерой

Для перемещения камеры с помощью клавиатуры был создан пустой объект, в который позже была добавлена основная камера. На объект был добавлен компонент Character Controller

![image](https://github.com/user-attachments/assets/414052f0-6a84-4ffe-9276-1668f2d644f2)

![image](https://github.com/user-attachments/assets/31da01b7-56ab-41d1-915a-29c18b96b065)

Также для возможности осмотреться было сделано управление мышкой, которое представлено в скрипте Player_Mouse 

![image](https://github.com/user-attachments/assets/d21d15bb-611e-48dd-b4df-d5f5e4f3b940)
